// User Registration Techniques
Flow org.gluu.agama.registration.main
     Basepath ""
     Timeout 360 seconds
     Configs conf
// Declare a variable for UI feedback messages.
uiFeedback = {}
otpUiFeedback = {}
otpUiFeedback.infoMessage = "An OTP code has been send to you on your mobile phone."
// Iterate x times max
Repeat 6 times max
     // Retrieve user profile from UI
     userInput = RRF "profile.ftlh" uiFeedback
     // Getting all data from user
     userName = userInput.uid
     email = userInput.mail
     phone = userInput.jansMobile
     country = userInput.country
     referral = userInput.referralCode
     Log "@info " Log("Received user input: " + userName + ", " + email + ", " + phone)
// Maximum attempt reached
Log "@info Maximum attempt reached"
// User Registration flow failed
it_unuuq = {success:false, error: "User registration flow reached max attempts try later"}
Finish it_unuuq